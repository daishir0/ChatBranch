<?php
// ChotGPT 設定ファイル サンプル
// install.phpを実行するか、このファイルをconfig.phpとしてコピーし、適切な値を設定してください

return [
    // インスタンス設定（install.phpで自動生成）
    'instance_id' => 'GENERATED_BY_INSTALL',
    'secret_key' => 'GENERATED_BY_INSTALL',
    
    // データベース設定
    'database' => [
        'type' => 'sqlite',
        'path' => __DIR__ . '/data/chotgpt_INSTANCE_ID.db', // install.phpで生成
    ],

    // 認証設定
    'auth' => [
        'username' => 'admin',
        'password' => 'your_password_here',
    ],

    // OpenAI API設定
    'openai' => [
        'api_key' => 'your_openai_api_key_here',
        'default_model' => 'gpt-4o-mini',
        'max_tokens' => 2000,
        'temperature' => 0.7,
        // コンテキスト圧縮設定
        'context_window_limit' => 128000, // モデルのコンテキストウィンドウサイズ
        'compression_chunk_size' => 4000, // 圧縮時の各チャンクサイズ（トークン）
        'compression_overlap' => 500,     // チャンク間のオーバーラップサイズ（トークン）
        'compression_ratio' => 0.3,       // 圧縮比率（0.3 = 30%に圧縮）
    ],

    // システム設定
    'system' => [
        'default_prompt' => 'You are a helpful assistant.',
        'debug' => false,
        'log_level' => 'info', // debug, info, warning, error
        'log_rotation_days' => 30,
        'max_file_size' => 10 * 1024 * 1024, // 10MB
        'base_url' => '', // 空の場合は自動検出、例: '/chat2' or 'https://example.com/chat2'
    ],

    // セキュリティ設定
    'security' => [
        'csrf_token_name' => 'csrf_token',
        'session_timeout' => 3600, // 1時間
    ],

    // アップロード設定
    'upload' => [
        'allowed_types' => [
            // PDF files
            'pdf',
            // Word documents
            'doc', 'docx',
            // Excel spreadsheets
            'xls', 'xlsx',
            // PowerPoint presentations
            'ppt', 'pptx',
            // Text files - basic
            'txt', 'md', 'markdown',
            // Text files - data formats
            'csv', 'json', 'xml',
            // Text files - logs and config
            'log', 'conf', 'config', 'ini', 'properties',
            // Text files - web and programming
            'html', 'htm', 'css', 'js', 'ts', 'php', 'py', 'sql', 'yaml', 'yml', 'toml',
            // Text files - other
            'rtf', 'bat', 'sh',
        ],
        'max_size' => 15 * 1024 * 1024, // 15MB
        'storage_path' => __DIR__ . '/uploads',
    ],
];